{"ast":null,"code":"import _defineProperty from \"/Users/annanaz/dev/movies-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/annanaz/dev/movies-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/annanaz/dev/movies-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback } from \"./react\";\n\n//хук управления формой и валидации формы\nexport function useFormWithValidation() {\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    values = _React$useState2[0],\n    setValues = _React$useState2[1];\n  var _React$useState3 = React.useState({}),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    errors = _React$useState4[0],\n    setErrors = _React$useState4[1];\n  var _React$useState5 = React.useState(false),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    isValid = _React$useState6[0],\n    setIsValid = _React$useState6[1];\n  var handleChange = function handleChange(event) {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    setValues(_objectSpread({}, values, _defineProperty({}, name, value)));\n    setErrors(_objectSpread({}, errors, _defineProperty({}, name, target.validationMessage)));\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n  var resetForm = useCallback(function () {\n    var newValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var newErrors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var newIsValid = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    setValues(newValues);\n    setErrors(newErrors);\n    setIsValid(newIsValid);\n  }, [setValues, setErrors, setIsValid]);\n  return {\n    values: values,\n    handleChange: handleChange,\n    errors: errors,\n    isValid: isValid,\n    resetForm: resetForm\n  };\n}","map":{"version":3,"names":["React","useCallback","useFormWithValidation","_React$useState","useState","_React$useState2","_slicedToArray","values","setValues","_React$useState3","_React$useState4","errors","setErrors","_React$useState5","_React$useState6","isValid","setIsValid","handleChange","event","target","name","value","_objectSpread","_defineProperty","validationMessage","closest","checkValidity","resetForm","newValues","arguments","length","undefined","newErrors","newIsValid"],"sources":["/Users/annanaz/dev/movies-explorer-frontend/src/utils/Hooks.js"],"sourcesContent":["import React, { useCallback } from \"./react\";\n\n//хук управления формой и валидации формы\nexport function useFormWithValidation() {\n    const [values, setValues] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n    const [isValid, setIsValid] = React.useState(false);\n\n    const handleChange = (event) => {\n        const target = event.target;\n        const name = target.name;\n        const value = target.value;\n        setValues({ ...values, [name]: value });\n        setErrors({ ...errors, [name]: target.validationMessage });\n        setIsValid(target.closest(\"form\").checkValidity());\n    };\n\n    const resetForm = useCallback(\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\n            setValues(newValues);\n            setErrors(newErrors);\n            setIsValid(newIsValid);\n        },\n        [setValues, setErrors, setIsValid]\n    );\n\n    return { values, handleChange, errors, isValid, resetForm };\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,SAAS;;AAE5C;AACA,OAAO,SAASC,qBAAqBA,CAAA,EAAG;EAAA,IAAAC,eAAA,GACRH,KAAK,CAACI,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAAvCI,MAAM,GAAAF,gBAAA;IAAEG,SAAS,GAAAH,gBAAA;EAAA,IAAAI,gBAAA,GACIT,KAAK,CAACI,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAM,gBAAA,GAAAJ,cAAA,CAAAG,gBAAA;IAAvCE,MAAM,GAAAD,gBAAA;IAAEE,SAAS,GAAAF,gBAAA;EAAA,IAAAG,gBAAA,GACMb,KAAK,CAACI,QAAQ,CAAC,KAAK,CAAC;IAAAU,gBAAA,GAAAR,cAAA,CAAAO,gBAAA;IAA5CE,OAAO,GAAAD,gBAAA;IAAEE,UAAU,GAAAF,gBAAA;EAE1B,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAK,EAAK;IAC5B,IAAMC,MAAM,GAAGD,KAAK,CAACC,MAAM;IAC3B,IAAMC,IAAI,GAAGD,MAAM,CAACC,IAAI;IACxB,IAAMC,KAAK,GAAGF,MAAM,CAACE,KAAK;IAC1Bb,SAAS,CAAAc,aAAA,KAAMf,MAAM,EAAAgB,eAAA,KAAGH,IAAI,EAAGC,KAAK,EAAE,CAAC;IACvCT,SAAS,CAAAU,aAAA,KAAMX,MAAM,EAAAY,eAAA,KAAGH,IAAI,EAAGD,MAAM,CAACK,iBAAiB,EAAE,CAAC;IAC1DR,UAAU,CAACG,MAAM,CAACM,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,CAAC,CAAC,CAAC;EACtD,CAAC;EAED,IAAMC,SAAS,GAAG1B,WAAW,CACzB,YAAwD;IAAA,IAAvD2B,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAA,IAAEG,SAAS,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAA,IAAEI,UAAU,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAC/CrB,SAAS,CAACoB,SAAS,CAAC;IACpBhB,SAAS,CAACoB,SAAS,CAAC;IACpBhB,UAAU,CAACiB,UAAU,CAAC;EAC1B,CAAC,EACD,CAACzB,SAAS,EAAEI,SAAS,EAAEI,UAAU,CACrC,CAAC;EAED,OAAO;IAAET,MAAM,EAANA,MAAM;IAAEU,YAAY,EAAZA,YAAY;IAAEN,MAAM,EAANA,MAAM;IAAEI,OAAO,EAAPA,OAAO;IAAEY,SAAS,EAATA;EAAU,CAAC;AAC/D"},"metadata":{},"sourceType":"module"}