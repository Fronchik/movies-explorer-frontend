{"ast":null,"code":"import _classCallCheck from \"/Users/annanaz/dev/movies-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/annanaz/dev/movies-explorer-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar MoviesApi = /*#__PURE__*/function () {\n  function MoviesApi(_ref) {\n    var _this = this;\n    var baseUrl = _ref.baseUrl,\n      headers = _ref.headers;\n    _classCallCheck(this, MoviesApi);\n    this.movies = function () {\n      return _this._request(_this.baseUrl + '/beatfilm-movies', {\n        method: 'GET',\n        headers: _this.headers\n      });\n    };\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  _createClass(MoviesApi, [{\n    key: \"_checkResponse\",\n    value: function _checkResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      // если ошибка, отклоняем промис\n      return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));\n    } // метод запроса с проверкой ответа\n  }, {\n    key: \"_request\",\n    value: function _request(url, options) {\n      return fetch(url, options).then(this._checkResponse);\n    }\n  }]);\n  return MoviesApi;\n}();\nexport var moviesApi = new MoviesApi({\n  baseUrl: 'https://api.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["MoviesApi","_ref","_this","baseUrl","headers","_classCallCheck","movies","_request","method","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","url","options","fetch","then","moviesApi"],"sources":["/Users/annanaz/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["class MoviesApi {\n    constructor({ baseUrl, headers }) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    movies = () => {\n        return this._request(this.baseUrl + '/beatfilm-movies', {\n            method: 'GET',\n            headers: this.headers,\n        })\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    // метод запроса с проверкой ответа\n    _request(url, options) {\n        return fetch(url, options).then(this._checkResponse);\n    }\n}\n\nexport const moviesApi = new MoviesApi({\n    baseUrl: 'https://api.nomoreparties.co',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n})"],"mappings":";;IAAMA,SAAS;EACX,SAAAA,UAAAC,IAAA,EAAkC;IAAA,IAAAC,KAAA;IAAA,IAApBC,OAAO,GAAAF,IAAA,CAAPE,OAAO;MAAEC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IAAAC,eAAA,OAAAL,SAAA;IAAA,KAK9BM,MAAM,GAAG,YAAM;MACX,OAAOJ,KAAI,CAACK,QAAQ,CAACL,KAAI,CAACC,OAAO,GAAG,kBAAkB,EAAE;QACpDK,MAAM,EAAE,KAAK;QACbJ,OAAO,EAAEF,KAAI,CAACE;MAClB,CAAC,CAAC;IACN,CAAC;IATG,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;EAC1B;EAACK,YAAA,CAAAT,SAAA;IAAAU,GAAA;IAAAC,KAAA,WAAAC,eAScC,GAAG,EAAE;MAChB,IAAIA,GAAG,CAACC,EAAE,EAAE;QACR,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;MACrB;MACA;MACA,OAAOC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYL,GAAG,CAACM,MAAM,CAAE,CAAC;IAClD,CAAC,CAED;EAAA;IAAAT,GAAA;IAAAC,KAAA,WAAAJ,SACSa,GAAG,EAAEC,OAAO,EAAE;MACnB,OAAOC,KAAK,CAACF,GAAG,EAAEC,OAAO,CAAC,CAACE,IAAI,CAAC,IAAI,CAACX,cAAc,CAAC;IACxD;EAAC;EAAA,OAAAZ,SAAA;AAAA;AAGL,OAAO,IAAMwB,SAAS,GAAG,IAAIxB,SAAS,CAAC;EACnCG,OAAO,EAAE,8BAA8B;EACvCC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}