{"version":3,"sources":["images/logo.svg","images/profile.svg","images/strelka.svg","images/close.svg","images/navigationIcon.svg","images/photo.jpg","images/find.svg","context/CurrentUserContext.js","utils/MainApi.js","components/ProtectedRoute.js","components/Navigation/Navigation.js","components/Header/Header.js","components/NavTab/NavTab.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Footer/Footer.js","components/Main/Main.js","components/SearchForm/SearchForm.js","components/Preloader/Preloader.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","utils/MoviesApi.js","utils/movies.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","utils/Hooks.js","components/Register/Register.js","components/Login/Login.js","components/Profile/Profile.js","components/Error/Error.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","CurrentUserContext","React","createContext","mainApi","MainApi","_ref","baseUrl","headers","_classCallCheck","this","_createClass","key","value","email","password","_request","method","body","JSON","stringify","name","token","_authRequest","_objectSpread","Authorization","concat","movie","movieId","url","localStorage","getItem","res","ok","json","Promise","reject","status","options","fetch","then","_checkResponse","Content-Type","ProtectedRoute","Component","element","props","_objectWithoutProperties","loggedIn","createElement","Navigate","to","replace","Navigation","onClose","className","aria-label","onClick","src","close","alt","Link","type","profile","Header","_React$useState","useState","_React$useState2","_slicedToArray","isMenuOpened","setMenuOpened","Fragment","headerLogo","navigationIcon","NavTab","href","AboutProject","id","Techs","AboutMe","aboutMePhoto","Portfolio","target","rel","portfolioImg","Footer","Main","SearchForm","query","onQueryChange","shortOnly","onShortOnlyChange","onSubmit","error","setError","e","preventDefault","noValidate","onChange","val","placeholder","required","disabled","find","Preloader","MoviesCard","onLike","onDislike","isFavourites","liked","undefined","_id","nameRU","duration","hours","Math","floor","minutes","durationFormatted","trailerLink","image","cardsPerPage","window","innerWidth","document","documentElement","clientWidth","MoviesCardList","cards","numberOfCardsToDisplay","setNumberOfCardsToDisplay","cardsToDisplay","slice","length","map","card","moviesApi","MoviesApi","_this","movies","moviesFilter","queryLowerCase","toLowerCase","filter","condition","includes","nameEN","beatfilmToMovie","beatfilmMovie","description","country","director","year","thumbnail","formats","Movies","cardList","setCardList","_React$useState3","_React$useState4","savedMovies","setSavedMovies","_React$useState5","_React$useState6","loading","setLoading","_React$useState7","_React$useState8","setQuery","_React$useState9","_React$useState10","setShortOnly","_React$useState11","_React$useState12","_React$useState13","_React$useState14","moviesFromServer","setMoviesFromServer","useEffect","loadFromStorage","moviesUpdateWithID","moviesList","result","catch","err","console","log","savedMovie","Object","assign","moviesData","parse","handleSearchSubmit","q","short","filterAndSaveMovies","formattedMovies","bfMovie","loadFromServer","filteredMovies","newQuery","newCardList","newShortOnly","setItem","saveToStorage","movieAdd","updatedCardList","_toConsumableArray","movieRemove","updatedSavedMovies","SavedMovies","loadMovies","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","arguments","newErrors","newIsValid","handleChange","event","_defineProperty","validationMessage","closest","checkValidity","init","initValues","Register","onRegister","nameRef","useRef","emailRef","passwordRef","_useFormWithValidatio","current","ref","pattern","login","minLength","maxLength","Login","onLogin","Profile","onProfileUpdate","onSignOut","currentUser","useContext","saved","setSaved","Error","App","setCurrentUser","setLoggedIn","tokenChecked","setTokenChecked","navigate","useNavigate","checkToken","Provider","Routes","Route","path","profileUpdate","removeItem","register","data","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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","file":"static/js/main.910efaf0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b004b319.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile.9bf2760f.svg\";","module.exports = __webpack_public_path__ + \"static/media/strelka.5cb8b6c5.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.15629f8b.svg\";","module.exports = __webpack_public_path__ + \"static/media/navigationIcon.14aa32cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo.adb08b27.jpg\";","module.exports = __webpack_public_path__ + \"static/media/find.98ea2d61.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","class MainApi {\r\n    constructor({ baseUrl, headers }) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n    }\r\n\r\n    login(email, password) {\r\n        return this._request(this.baseUrl + '/signin', {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                email, password\r\n            })\r\n        })\r\n    }\r\n\r\n    register(name, email, password) {\r\n        return this._request(this.baseUrl + '/signup', {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name, email, password\r\n            })\r\n        })\r\n    }\r\n\r\n    profileUpdate(name, email, token) {\r\n        return this._authRequest(this.baseUrl + '/users/me', 'PATCH', {\r\n            name, email\r\n        })\r\n    }\r\n\r\n    checkToken(token) {\r\n        return this._request(this.baseUrl + '/users/me', {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Authorization\": `Bearer ${token}`,\r\n                ...this.headers\r\n            }\r\n        })\r\n    }\r\n\r\n    movieAdd(movie) {\r\n        return this._authRequest(this.baseUrl + '/movies', 'POST', movie)\r\n    }\r\n\r\n    movieRemove(movieId) {\r\n        return this._authRequest(this.baseUrl + '/movies/' + movieId, 'DELETE')\r\n    }\r\n\r\n    moviesList(token) {\r\n        return this._authRequest(this.baseUrl + '/movies', 'GET')\r\n    }\r\n\r\n    _authRequest(url, method, body) {\r\n        const token = localStorage.getItem(\"token\");\r\n        return this._request(url, {\r\n            method, headers: {\r\n                \"Authorization\": `Bearer ${token}`, ...this.headers\r\n            },\r\n            body: JSON.stringify(body)\r\n        })\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        // если ошибка, отклоняем промис\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    // метод запроса с проверкой ответа\r\n    _request(url, options) {\r\n        return fetch(url, options).then(this._checkResponse);\r\n    }\r\n}\r\n\r\nexport const mainApi = new MainApi({\r\n    baseUrl: 'https://api.diplom.nomoredomains.xyz',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ element: Component, ...props }) => {\r\n    return (\r\n        props.loggedIn ? <Component {...props} /> : <Navigate to=\"/\" replace />\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Navigation.css';\r\nimport close from '../../images/close.svg';\r\nimport profile from '../../images/profile.svg';\r\n\r\nfunction Navigation({ onClose }) {\r\n    return (\r\n        <section className=\"navigation\">\r\n            <div className=\"navigation__content\">\r\n                <button aria-label=\"Закрыть\" onClick={onClose} className=\"navigation__button\">\r\n                    <img src={close} alt=\"Закрыть\" className=\"navigation__close\" />\r\n                </button>\r\n                <div className=\"navigation__links\">\r\n                    <Link to=\"/\" aria-label=\"Ссылка на фильмы\" className=\"navigation__link\">\r\n                        Главная\r\n                    </Link>\r\n                    <Link to=\"/movies\" aria-label=\"Ссылка на фильмы\" className=\"navigation__link\">\r\n                        Фильмы\r\n                    </Link>\r\n                    <Link to=\"/saved-movies\" aria-label=\"Ссылка на фильмы\" className=\"navigation__link\">\r\n                        Сохранённые фильмы\r\n                    </Link>\r\n                </div>\r\n                <div className=\"navigation__bottom\">\r\n                    <Link to=\"/profile\" aria-label=\"Кнопка аккаунта\" className=\"navigation__profile\">\r\n                        <button className=\"navigation__account\" aria-label=\"Кнопка аккаунта\" type=\"button\">\r\n                            <img src={profile} alt=\"Профиль\" />\r\n                            Аккаунт\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.css';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport headerLogo from '../../images/logo.svg';\r\nimport profile from '../../images/profile.svg';\r\nimport navigationIcon from '../../images/navigationIcon.svg'\r\n\r\nfunction Header({ loggedIn }) {\r\n    const [isMenuOpened, setMenuOpened] = React.useState(false);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <Link to=\"/\" aria-label=\"Логотип\">\r\n                    <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n                </Link>\r\n                {loggedIn &&\r\n                    <div className=\"header__movies\">\r\n                        <Link to=\"/movies\" aria-label=\"Ссылка на фильмы\" className=\"header__link-movies\">\r\n                            Фильмы\r\n                        </Link>\r\n                        <Link to=\"/saved-movies\" aria-label=\"Ссылка на сохранённые фильмы\" className=\"header__link-saved-movies\">\r\n                            Сохранённые фильмы\r\n                        </Link>\r\n                    </div>\r\n                }\r\n                <div className=\"header__buttons\">\r\n                    {!loggedIn ?\r\n                        <>\r\n                            <Link to=\"/signup\" aria-label=\"Кнопка регистрации\" className=\"header__button\">Регистрация\r\n                            </Link>\r\n                            <Link to=\"/signin\" aria-label=\"Кнопка войти\" className=\"header__button header__button_green\">Войти\r\n                            </Link>\r\n                        </>\r\n                        :\r\n                        <Link to=\"/profile\" aria-label=\"Кнопка аккаунта\" className=\"header__profile\">\r\n                            <img src={profile} alt=\"Профиль\" />\r\n                            Аккаунт\r\n                        </Link>\r\n                    }\r\n                </div>\r\n                {loggedIn &&\r\n                    <button aria-label=\"Кнопка меню\" onClick={() => setMenuOpened(true)} className=\"header__navigation-close\">\r\n                        <img src={navigationIcon} alt=\"навигация\" className=\"header__navigation\" />\r\n                    </button>\r\n                }\r\n            </header>\r\n            {isMenuOpened &&\r\n                <Navigation onClose={() => setMenuOpened(false)} />\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './NavTab.css';\r\n\r\nfunction NavTab() {\r\n    return (\r\n        <section className=\"navTab\">\r\n            <h1 className=\"navTab__title\">Учебный проект студента факультета Веб-разработки.</h1>\r\n            <div className=\"navTab__buttons\">\r\n                <a href=\"#project\" className=\"navTab__button\" aria-label=\"Кнопка о проекте\">О проекте</a>\r\n                <a href=\"#techs\" className=\"navTab__button\" aria-label=\"Кнопка технологии\">Технологии</a>\r\n                <a href=\"#student\" className=\"navTab__button\" aria-label=\"Кнопка студент\">Студент</a>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default NavTab;","import React from 'react';\r\nimport './AboutProject.css';\r\n\r\nfunction AboutProject() {\r\n    return (\r\n        <section id=\"project\" className=\"aboutProject\">\r\n            <h2 className=\"aboutProject__title\">О проекте</h2>\r\n            <ul className=\"aboutProject__info\">\r\n                <li className=\"aboutProject__info-item\">\r\n                    <h3 className=\"aboutProject__info-title\">\r\n                        Дипломный проект включал 5 этапов\r\n                    </h3>\r\n                    <p className=\"aboutProject__info-text\">\r\n                        Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.\r\n                    </p>\r\n                </li>\r\n                <li className=\"aboutProject__info-item\">\r\n                    <h3 className=\"aboutProject__info-title\">\r\n                        На выполнение диплома ушло 5 недель\r\n                    </h3>\r\n                    <p className=\"aboutProject__info-text\">\r\n                        У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.\r\n                    </p>\r\n                </li>\r\n            </ul>\r\n            <div className=\"aboutProject__date\">\r\n                <div className=\"aboutProject__week\">\r\n                    <p className=\"aboutProject__week-title\">1 неделя</p>\r\n                    <p className=\"aboutProject__week-subtitle\">Back-end</p>\r\n                </div>\r\n                <div className=\"aboutProject__month\">\r\n                    <p className=\"aboutProject__month-title\">4 недели</p>\r\n                    <p className=\"aboutProject__month-subtitle\">Front-end</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default AboutProject;","import React from 'react';\r\nimport './Techs.css';\r\n\r\nfunction Techs() {\r\n    return (\r\n        <section id=\"techs\" className=\"techs\">\r\n            <h2 className=\"techs__title\">Технологии.</h2>\r\n            <h3 className=\"techs__subtitle\">7 технологий</h3>\r\n            <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n            <ul className=\"techs__info\">\r\n                <li className=\"techs__info-item\">HTML</li>\r\n                <li className=\"techs__info-item\">CSS</li>\r\n                <li className=\"techs__info-item\">JS</li>\r\n                <li className=\"techs__info-item\">React</li>\r\n                <li className=\"techs__info-item\">Git</li>\r\n                <li className=\"techs__info-item\">Express.js</li>\r\n                <li className=\"techs__info-item\">mongoDB</li>\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Techs;","import React from 'react';\r\nimport './AboutMe.css';\r\nimport aboutMePhoto from '../../images/photo.jpg';\r\n\r\nfunction AboutMe() {\r\n    return (\r\n        <section id=\"student\" className=\"aboutMe\">\r\n            <h2 className=\"aboutMe__title\">Студент</h2>\r\n            <div className=\"aboutMe__container\">\r\n                <div className=\"aboutMe__info\">\r\n                    <h3 className=\"aboutMe__info-name\">Виталий</h3>\r\n                    <p className=\"aboutMe__info-prof\">Фронтенд-разработчик, 30 лет</p>\r\n                    <p className=\"aboutMe__info-text\">Я родился и живу в Саратове, закончил факультет экономики СГУ. У меня есть жена\r\n                        и дочь. Я люблю слушать музыку, а ещё увлекаюсь бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ Контур». После того, как прошёл курс по веб-разработке, начал заниматься фриланс-заказами и ушёл с постоянной работы.</p>\r\n                    <p className=\"aboutMe__info-web\">Github</p>\r\n                </div>\r\n                <img src={aboutMePhoto} alt=\"Фото студента\" className=\"aboutMe__info-photo\" />\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default AboutMe;","import React from 'react';\nimport './Portfolio.css';\nimport portfolioImg from '../../images/strelka.svg';\n\nfunction Portfolio() {\n    return (\n        <section className=\"portfolio\">\n            <h4 className=\"portfolio__title\">Портфолио</h4>\n            <a href=\"https://github.com/Fronchik/how-to-learn\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <div className=\"portfolio__info\">\n                    <p className=\"portfolio__name\">Статичный сайт</p>\n                    <img src={portfolioImg} alt=\"Стрелка\" className=\"portfolio__img\" />\n                </div>\n            </a>\n            <a href=\"https://github.com/Fronchik/russian-travel\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <div className=\"portfolio__info\">\n                    <p className=\"portfolio__name\">Адаптивный сайт</p>\n                    <img src={portfolioImg} alt=\"Стрелка\" className=\"portfolio__img\" />\n                </div>\n            </a>\n            <a href=\"https://github.com/Fronchik/react-mesto-api-full-gha\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <div className=\"portfolio__info\">\n                    <p className=\"portfolio__name\">Одностраничное приложение</p>\n                    <img src={portfolioImg} alt=\"Стрелка\" className=\"portfolio__img\" />\n                </div>\n            </a>\n        </section>\n    );\n}\n\nexport default Portfolio;\n","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <div className=\"footer__title\">Учебный проект Яндекс.Практикум х BeatFilm.</div>\n            <nav className=\"footer__items\">\n                <p className=\"footer__copyright\">&copy; 2023</p>\n                <ul className=\"footer__links\">\n                    <li>\n                        <a href=\"https://practicum.yandex.ru/\" className=\"footer__link\" target=\"_blank\" rel=\"noopener noreferrer\">Яндекс.Практикум</a>\n                    </li>\n                    <li>\n                        <a href=\"https://github.com/Fronchik/\" className=\"footer__link\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a>\n                    </li>\n                </ul>\n            </nav>\n        </footer>\n    );\n}\n\nexport default Footer;\n","import React from 'react';\r\nimport './Main.css';\r\nimport Header from '../Header/Header';\r\nimport NavTab from '../NavTab/NavTab';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport Techs from '../Techs/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\nimport Portfolio from '../Portfolio/Portfolio';\r\nimport Footer from '../Footer/Footer';\r\n\r\nfunction Main({ loggedIn }) {\r\n\r\n    return (\r\n        <>\r\n            <Header loggedIn={loggedIn} />\r\n            <main>\r\n                <NavTab />\r\n                <AboutProject />\r\n                <Techs />\r\n                <AboutMe />\r\n                <Portfolio />\r\n            </main>\r\n            <Footer />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport './SearchForm.css';\r\nimport find from '../../images/find.svg';\r\n\r\nfunction SearchForm({ query, onQueryChange, shortOnly, onShortOnlyChange, onSubmit }) {\r\n\r\n    const [error, setError] = React.useState(false);\r\n\r\n    const handleShortChange = () => {\r\n        onShortOnlyChange(!shortOnly);\r\n    }\r\n\r\n    const handleQueryChange = (e) => {\r\n        const val = e.target.value;\r\n        if (val) {\r\n            setError(false);\r\n        }\r\n        onQueryChange(val);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!query) {\r\n            setError(true);\r\n            return;\r\n        }\r\n        onSubmit();\r\n    }\r\n\r\n    return (\r\n        <section id=\"movies\" className=\"searchForm\">\r\n            <div className=\"searchForm__form\">\r\n                <form className=\"searchForm__container\" onSubmit={handleSubmit} noValidate>\r\n                    <input id=\"query\" className=\"searchForm__input\" name=\"query\" type=\"text\" onChange={handleQueryChange} value={query} placeholder=\"Фильм\" required />\r\n                    <button id=\"search-btn\" className=\"searchForm__find\" aria-label=\"Кнопка поиска\" type=\"submit\" disabled={error}>\r\n                        <img src={find} alt=\"Логотип\" />\r\n                    </button>\r\n                </form>\r\n                {error && <span className=\"searchForm__error\">Нужно ввести ключевое слово</span>}\r\n            </div>\r\n            <div className=\"searchForm__filter\">\r\n                <label className=\"searchForm__filter-title\">Короткометражки</label>\r\n                <div className={\"switch\" + (shortOnly ? \" on\" : \"\")} onClick={handleShortChange}>\r\n                    <div className=\"switch-toggle\"></div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <div className=\"preloader\">\r\n            <div className=\"preloader__container\">\r\n                <span className=\"preloader__round\"></span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\nimport './MoviesCard.css';\n\nfunction MoviesCard({ movie, onLike, onDislike, isFavourites }) {\n\n    const durationFormatted = (duration) => {\n        const hours = Math.floor(duration / 60);\n        const minutes = duration % 60;\n        return `${hours > 0 ? hours + 'ч' : ''} ${minutes}м`;\n    }\n\n    const liked = movie._id !== undefined;\n\n    return (\n        <li className=\"card\">\n            <div className=\"card__content\">\n                <div className=\"card__description\">\n                    <h2 className=\"card__name\">{movie.nameRU}</h2>\n                    <p className=\"card__time\">{durationFormatted(movie.duration)}</p>\n                </div>\n                {isFavourites ?\n                    <button className=\"card__delete\" aria-label=\"Закрыть\" type=\"button\"\n                        onClick={() => { onDislike(movie._id) }} /> :\n                    <button className={\"card__like\" + (liked ? \" card__like_active\" : \"\")}\n                        aria-label=\"Лайк\" type=\"button\"\n                        onClick={() => { liked ? onDislike(movie._id) : onLike(movie) }} />\n                }\n            </div>\n            <a href={movie.trailerLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"card__link\" >\n                <img src={movie.image} alt={movie.nameRU} className=\"card__image\" />\n            </a>\n        </li>\n    );\n}\n\nexport default MoviesCard;\n","import React from 'react';\nimport './MoviesCardList.css';\nimport MoviesCard from '../MoviesCard/MoviesCard';\n\nlet cardsPerPage = 7;\n\nfunction adjustCards() {\n    let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n    if (width <= 720) {\n        cardsPerPage = 5;\n    }\n}\n\nadjustCards();\n\nfunction MoviesCardList({ cards, error, onLike, onDislike, query, isFavourites }) {\n    const [numberOfCardsToDisplay, setNumberOfCardsToDisplay] = React.useState(cardsPerPage);\n    const handleMoreClick = () => {\n        setNumberOfCardsToDisplay(numberOfCardsToDisplay + cardsPerPage);\n    }\n    const cardsToDisplay = isFavourites ? cards : cards.slice(0, numberOfCardsToDisplay);\n\n    return (\n        <section className=\"movies\">\n            <ul className=\"movies__cards\">\n                {error ?\n                    <p className=\"movies__error\">Во время запроса произошла ошибка.\n                        Возможно проблема с соединением или сервер недоступен.\n                        Подождите немного и попробуйте еще раз</p> :\n                    cards.length === 0 && query ? <li className=\"movies__nothing\">Ничего не найдено</li> :\n                        cardsToDisplay.map(card =>\n                            <MoviesCard key={card.movieId}\n                                movie={card}\n                                onLike={onLike}\n                                onDislike={onDislike}\n                                isFavourites={isFavourites} />\n                        )\n                }\n            </ul>\n            {!isFavourites && numberOfCardsToDisplay < cards.length &&\n                <div className=\"movies__more\">\n                    <button className=\"movies__button\" onClick={handleMoreClick} aria-label=\"Кнопка Еще\" type=\"button\">Еще</button>\n                </div>\n            }\n        </section>\n    );\n}\n\nexport default MoviesCardList;\n","class MoviesApi {\r\n    constructor({ baseUrl, headers }) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n    }\r\n\r\n    movies = () => {\r\n        return this._request(this.baseUrl + '/beatfilm-movies', {\r\n            method: 'GET',\r\n            headers: this.headers,\r\n        })\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        // если ошибка, отклоняем промис\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    // метод запроса с проверкой ответа\r\n    _request(url, options) {\r\n        return fetch(url, options).then(this._checkResponse);\r\n    }\r\n}\r\n\r\nexport const moviesApi = new MoviesApi({\r\n    baseUrl: 'https://api.nomoreparties.co',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})","// Функция фильтрации фильмов по запросу и короткометражкам\r\nexport const moviesFilter = (movies, query, shortOnly) => {\r\n    const queryLowerCase = query.toLowerCase();\r\n    return movies.filter(movie => {\r\n        const condition =\r\n            movie.nameRU.toLowerCase().includes(queryLowerCase) ||\r\n            movie.nameEN.toLowerCase().includes(queryLowerCase);\r\n        if (!shortOnly) {\r\n            return condition;\r\n        }\r\n        return condition && movie.duration <= 40\r\n    });\r\n}\r\n\r\n// Функция преобразования фильма из Beatfilm в наш формат\r\nexport const beatfilmToMovie = (beatfilmMovie) => {\r\n    return {\r\n        movieId: beatfilmMovie.id,\r\n        nameRU: beatfilmMovie.nameRU,\r\n        nameEN: beatfilmMovie.nameEN,\r\n        description: beatfilmMovie.description,\r\n        duration: beatfilmMovie.duration,\r\n        country: beatfilmMovie.country,\r\n        director: beatfilmMovie.director,\r\n        year: beatfilmMovie.year,\r\n        image: \"https://api.nomoreparties.co\" + beatfilmMovie.image.url,\r\n        thumbnail: \"https://api.nomoreparties.co\" + beatfilmMovie.image.formats.thumbnail.url,\r\n        trailerLink: beatfilmMovie.trailerLink,\r\n    }\r\n}","import React from 'react';\nimport './Movies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Preloader from '../Preloader/Preloader';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport { moviesApi } from '../../utils/MoviesApi';\nimport { beatfilmToMovie, moviesFilter } from \"../../utils/movies\";\nimport { mainApi } from \"../../utils/MainApi\";\n\nfunction Movies() {\n    const [cardList, setCardList] = React.useState([]);\n    const [savedMovies, setSavedMovies] = React.useState([]);\n    const [loading, setLoading] = React.useState(false);\n    const [query, setQuery] = React.useState('');\n    const [shortOnly, setShortOnly] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [moviesFromServer, setMoviesFromServer] = React.useState([]);\n\n\n    React.useEffect(() => {\n        loadFromStorage();\n    }, [savedMovies]);\n\n    const loadSavedMovies = () => {\n        mainApi.moviesList().then((result) => {\n            setSavedMovies(result);\n        }).catch((err) => {\n            setError(true);\n            console.log(err);\n        })\n    }\n\n    const moviesUpdateWithID = (movies) => {\n        if (savedMovies.length === 0) {\n            loadSavedMovies();\n        }\n        return movies.map((movie) => {\n            const savedMovie = savedMovies.find((savedMovie) => savedMovie.movieId === movie.movieId);\n            // клонируем объект, чтобы не менять исходный\n            movie = Object.assign({}, movie);\n            if (savedMovie) {\n                movie._id = savedMovie._id;\n            }\n            return movie;\n        })\n    }\n\n    const loadFromStorage = () => {\n        const movies = localStorage.getItem(\"movies\");\n        if (movies) {\n            const moviesData = JSON.parse(movies);\n            setQuery(moviesData.query);\n            setCardList(moviesUpdateWithID(moviesData.cardList));\n            setShortOnly(moviesData.shortOnly);\n        }\n    }\n\n    const loadFromServer = (q, short) => {\n        moviesApi.movies()\n            .then((result) => {\n                const formattedMovies = result.map((bfMovie) => beatfilmToMovie(bfMovie));\n                setMoviesFromServer(formattedMovies);\n                filterAndSaveMovies(formattedMovies, q, short);\n                setLoading(false);\n            })\n            .catch((err) => {\n                setError(true);\n                console.log(err);\n            });\n    }\n\n    const saveToStorage = (newQuery, newCardList, newShortOnly) => {\n        const moviesData = {\n            query: newQuery,\n            cardList: newCardList,\n            shortOnly: newShortOnly,\n        }\n        localStorage.setItem(\"movies\",\n            JSON.stringify(moviesData));\n    }\n\n    const handleSearchSubmit = (q, short) => {\n        setLoading(true);\n        // если фильмы еще не загружены, загружаем их\n        if (moviesFromServer.length === 0) {\n            loadFromServer(q, short);\n            return;\n        }\n        filterAndSaveMovies(moviesFromServer, q, short);\n        setLoading(false);\n    }\n\n    const filterAndSaveMovies = (movies, q, short) => {\n        const filteredMovies = moviesFilter(movies, q, short);\n        saveToStorage(q, filteredMovies, short);\n        setCardList(moviesUpdateWithID(filteredMovies));\n    }\n\n\n    const handleMovieLike = (movie) => {\n        mainApi.movieAdd(movie).then((result) => {\n            // обновляем список фильмов\n            const updatedCardList = cardList.map((card) => {\n                if (card.movieId === movie.movieId) {\n                    return result;\n                }\n                return card;\n            });\n            setCardList(updatedCardList);\n            // обновляем список сохраненных фильмов\n            setSavedMovies([...savedMovies, result]);\n        }).catch((err) => {\n            setError(true);\n            console.log(err);\n        })\n    }\n\n    const handleMovieDislike = (id) => {\n        mainApi.movieRemove(id).then((result) => {\n            // обновляем список фильмов\n            const updatedCardList = cardList.map((card) => {\n                if (card._id === id) {\n                    delete card._id;\n                }\n                return card;\n            });\n            setCardList(updatedCardList);\n            // обновляем список сохраненных фильмов\n            const updatedSavedMovies = savedMovies.filter((card) => {\n                if (card._id !== id) {\n                    return card;\n                }\n                return null;\n            })\n            setSavedMovies(updatedSavedMovies);\n        }).catch((err) => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <>\n            <Header loggedIn={true} />\n            <main>\n                <SearchForm\n                    query={query}\n                    onQueryChange={setQuery}\n                    onShortOnlyChange={() => {\n                        handleSearchSubmit(query, !shortOnly);\n                        setShortOnly(!shortOnly);\n                    }}\n                    shortOnly={shortOnly}\n                    onSubmit={() => handleSearchSubmit(query, shortOnly)} />\n                {loading ?\n                    <Preloader /> : <MoviesCardList\n                        cards={cardList}\n                        error={error}\n                        onLike={handleMovieLike}\n                        onDislike={handleMovieDislike}\n                        query={query}\n                        isFavourites={false} />\n                }\n            </main>\n            <Footer />\n        </>\n    );\n}\n\nexport default Movies;\n","import React from 'react';\nimport './SavedMovies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport { mainApi } from \"../../utils/MainApi\";\nimport { moviesFilter } from \"../../utils/movies\";\nimport Preloader from \"../Preloader/Preloader\";\n\nfunction SavedMovies() {\n\n    const [savedMovies, setSavedMovies] = React.useState([]);\n    const [cardList, setCardList] = React.useState([]);\n    const [loading, setLoading] = React.useState(false);\n    const [query, setQuery] = React.useState('');\n    const [shortOnly, setShortOnly] = React.useState(false);\n    const [error, setError] = React.useState(false);\n\n    React.useEffect(() => {\n        loadMovies();\n    }, []);\n\n    const loadMovies = () => {\n        setLoading(true)\n        mainApi.moviesList().then((result) => {\n            setSavedMovies(result);\n            setCardList(result);\n            setLoading(false);\n        }).catch((err) => {\n            setError(true);\n            console.log(err);\n        })\n    }\n\n    const handleSearchSubmit = (q, short) => {\n        const filteredMovies = moviesFilter(savedMovies, q, short);\n        setCardList(filteredMovies);\n    }\n\n    const handleMovieDislike = (id) => {\n        mainApi.movieRemove(id).then((result) => {\n            // обновляем список cохраненных фильмов\n            const updatedSavedMovies = savedMovies.filter((card) => {\n                if (card._id !== id) {\n                    return card;\n                }\n                return null;\n            });\n            setSavedMovies(updatedSavedMovies);\n            // обновляем список отображаемых фильмов\n            const updatedCardList = cardList.filter((card) => {\n                if (card._id !== id) {\n                    return card;\n                }\n                return null;\n            });\n            setCardList(updatedCardList);\n        }).catch((err) => {\n            setError(true);\n            console.log(err);\n        })\n    }\n\n    return (\n        <>\n            <Header loggedIn={true} />\n            <main>\n                <SearchForm\n                    query={query}\n                    onQueryChange={setQuery}\n                    onShortOnlyChange={() => {\n                        handleSearchSubmit(query, !shortOnly)\n                        setShortOnly(!shortOnly);\n                    }}\n                    shortOnly={shortOnly}\n                    onSubmit={() => handleSearchSubmit(query, shortOnly)}\n                />\n                {loading ?\n                    <Preloader /> :\n                    <MoviesCardList\n                        cards={cardList}\n                        error={error}\n                        query={query}\n                        onDislike={handleMovieDislike}\n                        isFavourites={true} />\n                }\n            </main>\n            <Footer />\n        </>\n    );\n}\n\nexport default SavedMovies;\n","import React, { useCallback } from 'react';\r\n\r\n//хук управления формой и валидации формы\r\nexport function useFormWithValidation() {\r\n    const [values, setValues] = React.useState({});\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n        setValues({ ...values, [name]: value });\r\n        setErrors({ ...errors, [name]: target.validationMessage });\r\n        setIsValid(target.closest(\"form\").checkValidity());\r\n    };\r\n\r\n    const resetForm = useCallback(\r\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n            setValues(newValues);\r\n            setErrors(newErrors);\r\n            setIsValid(newIsValid);\r\n        },\r\n        [setValues, setErrors, setIsValid]\r\n    );\r\n\r\n    const init = (initValues) => {\r\n        setValues(initValues);\r\n    }\r\n\r\n    return { values, handleChange, errors, isValid, init, resetForm };\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../../utils/Hooks';\r\nimport './Register.css';\r\nimport headerLogo from '../../images/logo.svg';\r\n\r\nfunction Register({ onRegister }) {\r\n    const nameRef = React.useRef();\r\n    const emailRef = React.useRef();\r\n    const passwordRef = React.useRef();\r\n\r\n    const { handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onRegister(nameRef.current.value, emailRef.current.value, passwordRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <section className=\"popup\">\r\n            <div className=\"popup__content\">\r\n                <Link to=\"/\" aria-label=\"Логотип\">\r\n                    <img src={headerLogo} alt=\"Логотип\" className=\"popup__logo\" />\r\n                </Link>\r\n                <h2 className=\"popup__title\">Добро пожаловать!</h2>\r\n                <form id=\"login-form\" className=\"popup__form\" name=\"login-form\" onSubmit={handleSubmit} noValidate>\r\n                    <div className=\"popup__info\">\r\n                        <div className=\"popup__list\">\r\n                            <label className=\"popup__label\">Имя</label>\r\n                            <input id=\"name\" ref={nameRef} className=\"popup__input\" name=\"name\" type=\"text\" onChange={handleChange} required pattern=\"^[a-zA-Zа-яА-Я\\s\\-]*$\" />\r\n                            {errors.name && <span className=\"popup__error\">{errors.name}</span>}\r\n                        </div>\r\n                        <div className=\"popup__list\">\r\n                            <label className=\"popup__label\">E-mail</label>\r\n                            <input id=\"email\" ref={emailRef} className=\"popup__input\" name=\"login\" type=\"email\" pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}\" onChange={handleChange} required />\r\n                            {errors.login && <span className=\"popup__error\">{errors.login}</span>}\r\n                        </div>\r\n                        <div className=\"popup__list\">\r\n                            <label className=\"popup__label\">Пароль</label>\r\n                            <input id=\"password\" ref={passwordRef} className=\"popup__input popup__input_password\" name=\"password\" type=\"password\" onChange={handleChange} required minLength=\"5\" maxLength=\"30\" />\r\n                            {errors.password && <span className=\"popup__error\">{errors.password}</span>}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"popup__button\">\r\n                        <button className={\"popup__save\" + (isValid ? \" popup__save_active\" : \"\")} aria-label=\"Кнопка входа\" type=\"submit\" disabled={!isValid}>Зарегистрироваться</button>\r\n                        <div className=\"popup__span\">\r\n                            <span className=\"popup__text\">Уже зарегистрированы?</span>\r\n                            <Link to=\"/signin\" aria-label=\"Кнопка входа\">\r\n                                <span className=\"popup__enter\">Войти</span>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../../utils/Hooks';\r\nimport './Login.css';\r\nimport headerLogo from '../../images/logo.svg';\r\n\r\nfunction Login({ onLogin }) {\r\n    const emailRef = React.useRef();\r\n    const passwordRef = React.useRef();\r\n\r\n    const { handleChange, errors, isValid } = useFormWithValidation();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onLogin(emailRef.current.value, passwordRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <section className=\"popup\">\r\n            <div className=\"popup__content\">\r\n                <Link to=\"/\" aria-label=\"Логотип\">\r\n                    <img src={headerLogo} alt=\"Логотип\" className=\"popup__logo\" />\r\n                </Link>\r\n                <h2 className=\"popup__title\">Рады видеть!</h2>\r\n                <form id=\"login-form\" className=\"popup__form\" name=\"login-form\" onSubmit={handleSubmit} noValidate>\r\n                    <div className=\"popup__info\">\r\n                        <div className=\"popup__list\">\r\n                            <label className=\"popup__label\">E-mail</label>\r\n                            <input id=\"email\" ref={emailRef} className=\"popup__input\" name=\"login\" type=\"email\" pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}\" onChange={handleChange} required />\r\n                            {errors.login && <span className=\"popup__error\">{errors.login}</span>}\r\n                        </div>\r\n                        <div className=\"popup__list\">\r\n                            <label className=\"popup__label\">Пароль</label>\r\n                            <input id=\"password\" ref={passwordRef} className=\"popup__input\" name=\"password\" type=\"password\" onChange={handleChange} required />\r\n                            {errors.password && <span className=\"popup__error\">{errors.password}</span>}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"popup__button\">\r\n                        <button className={\"popup__save\" + (isValid ? \" popup__save_active\" : \"\")} aria-label=\"Кнопка входа\" type=\"submit\" disabled={!isValid}>Войти</button>\r\n                        <div className=\"popup__span\">\r\n                            <span className=\"popup__text\">Еще не зарегистрированы?</span>\r\n                            <Link to=\"/signup\" aria-label=\"Кнопка регистрации\">\r\n                                <span className=\"popup__enter\">Регистрация</span>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../../utils/Hooks';\r\nimport './Profile.css';\r\nimport Header from '../Header/Header';\r\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\r\n\r\nfunction Profile({ onProfileUpdate, onSignOut }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [saved, setSaved] = React.useState(false);\r\n\r\n    const { handleChange, errors, values, init, isValid } = useFormWithValidation();\r\n\r\n    React.useEffect(() => {\r\n        init({\r\n            name: currentUser.name,\r\n            email: currentUser.email,\r\n        })\r\n    }, [currentUser]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onProfileUpdate(values.name, values.email);\r\n        setSaved(true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header loggedIn={true} />\r\n            <section className=\"profile\">\r\n                <div className=\"profile__content\">\r\n                    <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\r\n                    <form id=\"login-form\" className=\"profile__form\" name=\"login-form\" onSubmit={handleSubmit} noValidate>\r\n                        <div className=\"profile__data\">\r\n                            <div className=\"profile__info\">\r\n                                <label className=\"profile__label\">Имя</label>\r\n                                <input\r\n                                    id=\"name\"\r\n                                    value={values.name}\r\n                                    className=\"profile__input\"\r\n                                    name=\"name\"\r\n                                    type=\"text\"\r\n                                    onChange={handleChange}\r\n                                    required\r\n                                    pattern=\"^[a-zA-Zа-яА-Я\\s\\-]*$\" />\r\n                            </div>\r\n                            <hr className=\"profile__line\"></hr>\r\n                            <div className=\"profile__info\">\r\n                                <label className=\"profile__label\">E-mail</label>\r\n                                <input\r\n                                    id=\"email\"\r\n                                    value={values.email}\r\n                                    className=\"profile__input\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}\"\r\n                                    onChange={handleChange}\r\n                                    required />\r\n                            </div>\r\n                        </div>\r\n                        {!isValid &&\r\n                            <div className=\"profile_error\">{Object.values(errors).map(err => <p className=\"profile_text\">{err}</p>)}\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"profile__button\">\r\n                            {saved && <p className=\"profile__success\">Данные успешно сохранены!</p>}\r\n                            <button\r\n                                className={\"profile__save\" + (isValid ? \" profile__save_active\" : \"\")}\r\n                                aria-label=\"Кнопка редактировать\"\r\n                                type=\"submit\"\r\n                                disabled={!isValid || (values.name === currentUser.name && values.email === currentUser.email)}>Редактировать\r\n                            </button>\r\n                            <Link to=\"/\" className=\"profile__exit\" aria-label=\"Кнопка выхода\" onClick={onSignOut}>Выйти из аккаунта</Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Error.css';\r\n\r\nfunction Error() {\r\n    return (\r\n        <section className=\"error\">\r\n            <div className=\"error__content\">\r\n                <div className=\"error__info\">\r\n                    <p className=\"error__title\">404</p>\r\n                    <p className=\"error__text\">Страница не найдена</p>\r\n                </div>\r\n                <div className=\"error__link\">\r\n                    <Link to={-1} className=\"error__back\" aria-label=\"Кнопка назад\" type=\"submit\">Назад</Link>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Error;","import React from 'react';\r\nimport './App.css';\r\nimport { Routes, Route, useNavigate } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\r\nimport { mainApi } from '../../utils/MainApi';\r\nimport ProtectedRoute from '../ProtectedRoute';\r\nimport Main from '../Main/Main';\r\nimport Movies from '../Movies/Movies';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Register from '../Register/Register';\r\nimport Login from '../Login/Login';\r\nimport Profile from '../Profile/Profile';\r\nimport Error from '../Error/Error';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [tokenChecked, setTokenChecked] = React.useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // проверка валидности токена\r\n  function checkToken(token) {\r\n    mainApi.checkToken(token)\r\n      .then((result) => {\r\n        setLoggedIn(true);\r\n        setTokenChecked(true);\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoggedIn(false);\r\n        setTokenChecked(true);\r\n      });\r\n  }\r\n\r\n  // аутентификация пользователя при загрузке или обновлении страницы\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      setLoggedIn(false);\r\n      setTokenChecked(true);\r\n      return\r\n    }\r\n    checkToken(token);\r\n  }, [])\r\n\r\n  // регистрация пользователя\r\n  function handleRegister(name, email, password) {\r\n    mainApi.register(name, email, password)\r\n      .then((result) => {\r\n        localStorage.setItem(\"token\", result.token);\r\n        setLoggedIn(true);\r\n        setCurrentUser(result.data);\r\n        setTokenChecked(true);\r\n        navigate(\"/movies\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    mainApi.login(email, password)\r\n      .then((result) => {\r\n        localStorage.setItem(\"token\", result.token);\r\n        setLoggedIn(true);\r\n        setCurrentUser(result.data);\r\n        setTokenChecked(true);\r\n        navigate(\"/movies\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function onProfileUpdate(name, email) {\r\n    const token = localStorage.getItem(\"token\");\r\n    mainApi.profileUpdate(name, email, token)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // выйти из аккаунта\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('movies');\r\n    setLoggedIn(false);\r\n    setTokenChecked(false);\r\n    navigate('/');\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Routes>\r\n          <Route path=\"/\" element={<Main loggedIn={loggedIn} />} />\r\n          <Route path=\"/movies\" element={\r\n            <ProtectedRoute\r\n              element={Movies}\r\n              loggedIn={loggedIn || !tokenChecked}\r\n            />}\r\n          />\r\n          <Route path=\"/saved-movies\" element={\r\n            <ProtectedRoute\r\n              element={SavedMovies}\r\n              loggedIn={loggedIn || !tokenChecked}\r\n            />}\r\n          />\r\n          <Route path=\"/profile\" element={\r\n            <ProtectedRoute\r\n              element={Profile}\r\n              loggedIn={loggedIn || !tokenChecked}\r\n              onProfileUpdate={onProfileUpdate}\r\n              onSignOut={handleSignOut}\r\n            />}\r\n          />\r\n          <Route path=\"/signup\" element={\r\n            <ProtectedRoute\r\n              element={Register}\r\n              onRegister={handleRegister}\r\n              loggedIn={!loggedIn}\r\n            />}\r\n          />\r\n          <Route path=\"/signin\" element={\r\n            <ProtectedRoute\r\n              element={Login}\r\n              onLogin={handleLogin}\r\n              loggedIn={!loggedIn} />}\r\n          />\r\n          <Route path=\"*\" element={<Error />} />\r\n        </Routes>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n\r\nreportWebVitals();\r\n\r\n"],"sourceRoot":""}