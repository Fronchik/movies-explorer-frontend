(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo.b004b319.svg"},,,,,,,function(e,a,t){e.exports=t.p+"static/media/profile.9bf2760f.svg"},function(e,a,t){e.exports=t.p+"static/media/strelka.5cb8b6c5.svg"},,,function(e,a,t){e.exports=t.p+"static/media/close.15629f8b.svg"},function(e,a,t){e.exports=t.p+"static/media/navigationIcon.14aa32cd.svg"},function(e,a,t){e.exports=t.p+"static/media/photo.adb08b27.jpg"},function(e,a,t){e.exports=t.p+"static/media/find.98ea2d61.svg"},,function(e,a,t){e.exports=t(80)},,,,,,,,,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(21),c=t.n(l),o=(t(36),t(3)),i=(t(40),t(0)),s=r.a.createContext(),m=t(12),u=t(7),_=t(8),p=new(function(){function e(a){var t=a.baseUrl,n=a.headers;Object(u.a)(this,e),this.baseUrl=t,this.headers=n}return Object(_.a)(e,[{key:"login",value:function(e,a){return this._request(this.baseUrl+"/signin",{method:"POST",headers:this.headers,body:JSON.stringify({email:e,password:a})})}},{key:"register",value:function(e,a,t){return this._request(this.baseUrl+"/signup",{method:"POST",headers:this.headers,body:JSON.stringify({name:e,email:a,password:t})})}},{key:"profileUpdate",value:function(e,a,t){return this._authRequest(this.baseUrl+"/users/me","PATCH",{name:e,email:a})}},{key:"checkToken",value:function(e){return this._request(this.baseUrl+"/users/me",{method:"GET",headers:Object(m.a)({Authorization:"Bearer ".concat(e)},this.headers)})}},{key:"movieAdd",value:function(e){return this._authRequest(this.baseUrl+"/movies","POST",e)}},{key:"movieRemove",value:function(e){return this._authRequest(this.baseUrl+"/movies/"+e,"DELETE")}},{key:"moviesList",value:function(e){return this._authRequest(this.baseUrl+"/movies","GET")}},{key:"_authRequest",value:function(e,a,t){var n=localStorage.getItem("token");return this._request(e,{method:a,headers:Object(m.a)({Authorization:"Bearer ".concat(n)},this.headers),body:JSON.stringify(t)})}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"_request",value:function(e,a){return fetch(e,a).then(this._checkResponse)}}]),e}())({baseUrl:"https://api.diplom.nomoredomains.xyz",headers:{"Content-Type":"application/json"}}),f=t(26),d=function(e){var a=e.element,t=Object(f.a)(e,["element"]);return t.loggedIn?r.a.createElement(a,t):r.a.createElement(i.a,{to:"/",replace:!0})},E=(t(42),t(4)),v=(t(44),t(46),t(22)),h=t.n(v),b=t(18),g=t.n(b);var N=function(e){var a=e.onClose;return r.a.createElement("section",{className:"navigation"},r.a.createElement("div",{className:"navigation__content"},r.a.createElement("button",{"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:a,className:"navigation__button"},r.a.createElement("img",{src:h.a,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"navigation__close"})),r.a.createElement("div",{className:"navigation__links"},r.a.createElement(E.b,{to:"/","aria-label":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0438\u043b\u044c\u043c\u044b",className:"navigation__link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(E.b,{to:"/movies","aria-label":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0438\u043b\u044c\u043c\u044b",className:"navigation__link"},"\u0424\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(E.b,{to:"/saved-movies","aria-label":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0438\u043b\u044c\u043c\u044b",className:"navigation__link"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("div",{className:"navigation__bottom"},r.a.createElement(E.b,{to:"/profile","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",className:"navigation__profile"},r.a.createElement("button",{className:"navigation__account","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",type:"button"},r.a.createElement("img",{src:g.a,alt:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442")))))},k=t(11),y=t.n(k),j=t(23),O=t.n(j);var S=function(e){var a=e.loggedIn,t=r.a.useState(!1),n=Object(o.a)(t,2),l=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement(E.b,{to:"/","aria-label":"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"},r.a.createElement("img",{src:y.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"})),a&&r.a.createElement("div",{className:"header__movies"},r.a.createElement(E.b,{to:"/movies","aria-label":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0438\u043b\u044c\u043c\u044b",className:"header__link-movies"},"\u0424\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(E.b,{to:"/saved-movies","aria-label":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b",className:"header__link-saved-movies"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("div",{className:"header__buttons"},a?r.a.createElement(E.b,{to:"/profile","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",className:"header__profile"},r.a.createElement("img",{src:g.a,alt:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.b,{to:"/signup","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",className:"header__button"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(E.b,{to:"/signin","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u043e\u0439\u0442\u0438",className:"header__button header__button_green"},"\u0412\u043e\u0439\u0442\u0438"))),a&&r.a.createElement("button",{"aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043c\u0435\u043d\u044e",onClick:function(){return c(!0)},className:"header__navigation-close"},r.a.createElement("img",{src:O.a,alt:"\u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f",className:"header__navigation"}))),l&&r.a.createElement(N,{onClose:function(){return c(!1)}}))};t(48);var C=function(){return r.a.createElement("section",{className:"navTab"},r.a.createElement("h1",{className:"navTab__title"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."),r.a.createElement("div",{className:"navTab__buttons"},r.a.createElement("a",{href:"#project",className:"navTab__button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("a",{href:"#techs",className:"navTab__button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"),r.a.createElement("a",{href:"#student",className:"navTab__button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442")))};t(50);var w=function(){return r.a.createElement("section",{id:"project",className:"aboutProject"},r.a.createElement("h2",{className:"aboutProject__title"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("ul",{className:"aboutProject__info"},r.a.createElement("li",{className:"aboutProject__info-item"},r.a.createElement("h3",{className:"aboutProject__info-title"},"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"),r.a.createElement("p",{className:"aboutProject__info-text"},"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438.")),r.a.createElement("li",{className:"aboutProject__info-item"},r.a.createElement("h3",{className:"aboutProject__info-title"},"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"),r.a.createElement("p",{className:"aboutProject__info-text"},"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."))),r.a.createElement("div",{className:"aboutProject__date"},r.a.createElement("div",{className:"aboutProject__week"},r.a.createElement("p",{className:"aboutProject__week-title"},"1 \u043d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement("p",{className:"aboutProject__week-subtitle"},"Back-end")),r.a.createElement("div",{className:"aboutProject__month"},r.a.createElement("p",{className:"aboutProject__month-title"},"4 \u043d\u0435\u0434\u0435\u043b\u0438"),r.a.createElement("p",{className:"aboutProject__month-subtitle"},"Front-end"))))};t(52);var I=function(){return r.a.createElement("section",{id:"techs",className:"techs"},r.a.createElement("h2",{className:"techs__title"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438."),r.a.createElement("h3",{className:"techs__subtitle"},"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"),r.a.createElement("p",{className:"techs__text"},"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."),r.a.createElement("ul",{className:"techs__info"},r.a.createElement("li",{className:"techs__info-item"},"HTML"),r.a.createElement("li",{className:"techs__info-item"},"CSS"),r.a.createElement("li",{className:"techs__info-item"},"JS"),r.a.createElement("li",{className:"techs__info-item"},"React"),r.a.createElement("li",{className:"techs__info-item"},"Git"),r.a.createElement("li",{className:"techs__info-item"},"Express.js"),r.a.createElement("li",{className:"techs__info-item"},"mongoDB")))},q=(t(54),t(24)),F=t.n(q);var P=function(){return r.a.createElement("section",{id:"student",className:"aboutMe"},r.a.createElement("h2",{className:"aboutMe__title"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"),r.a.createElement("div",{className:"aboutMe__container"},r.a.createElement("div",{className:"aboutMe__info"},r.a.createElement("h3",{className:"aboutMe__info-name"},"\u0412\u0438\u0442\u0430\u043b\u0438\u0439"),r.a.createElement("p",{className:"aboutMe__info-prof"},"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 30 \u043b\u0435\u0442"),r.a.createElement("p",{className:"aboutMe__info-text"},"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."),r.a.createElement("p",{className:"aboutMe__info-web"},"Github")),r.a.createElement("img",{src:F.a,alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",className:"aboutMe__info-photo"})))},x=(t(56),t(19)),R=t.n(x);var L=function(){return r.a.createElement("section",{className:"portfolio"},r.a.createElement("h4",{className:"portfolio__title"},"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"),r.a.createElement("a",{href:"https://github.com/Fronchik/how-to-learn",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"portfolio__info"},r.a.createElement("p",{className:"portfolio__name"},"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),r.a.createElement("img",{src:R.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430",className:"portfolio__img"}))),r.a.createElement("a",{href:"https://github.com/Fronchik/russian-travel",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"portfolio__info"},r.a.createElement("p",{className:"portfolio__name"},"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),r.a.createElement("img",{src:R.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430",className:"portfolio__img"}))),r.a.createElement("a",{href:"https://github.com/Fronchik/react-mesto-api-full-gha",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"portfolio__info"},r.a.createElement("p",{className:"portfolio__name"},"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("img",{src:R.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430",className:"portfolio__img"}))))};t(58);var U=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__title"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."),r.a.createElement("nav",{className:"footer__items"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2023"),r.a.createElement("ul",{className:"footer__links"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://practicum.yandex.ru/",className:"footer__link",target:"_blank",rel:"noopener noreferrer"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/Fronchik/",className:"footer__link",target:"_blank",rel:"noopener noreferrer"},"Github")))))};var T=function(e){var a=e.loggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{loggedIn:a}),r.a.createElement("main",null,r.a.createElement(C,null),r.a.createElement(w,null),r.a.createElement(I,null),r.a.createElement(P,null),r.a.createElement(L,null)),r.a.createElement(U,null))},A=t(6),z=(t(60),t(62),t(25)),M=t.n(z);var D=function(e){var a=e.query,t=e.onQueryChange,n=e.shortOnly,l=e.onShortOnlyChange,c=e.onSubmit,i=r.a.useState(!1),s=Object(o.a)(i,2),m=s[0],u=s[1];return r.a.createElement("section",{id:"movies",className:"searchForm"},r.a.createElement("div",{className:"searchForm__form"},r.a.createElement("form",{className:"searchForm__container",onSubmit:function(e){e.preventDefault(),a?c():u(!0)},noValidate:!0},r.a.createElement("input",{id:"query",className:"searchForm__input",name:"query",type:"text",onChange:function(e){var a=e.target.value;a&&u(!1),t(a)},value:a,placeholder:"\u0424\u0438\u043b\u044c\u043c",required:!0}),r.a.createElement("button",{id:"search-btn",className:"searchForm__find","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",type:"submit",disabled:m},r.a.createElement("img",{src:M.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}))),m&&r.a.createElement("span",{className:"searchForm__error"},"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")),r.a.createElement("div",{className:"searchForm__filter"},r.a.createElement("label",{className:"searchForm__filter-title"},"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"),r.a.createElement("div",{className:"switch"+(n?" on":""),onClick:function(){l(!n)}},r.a.createElement("div",{className:"switch-toggle"}))))};t(64);var Z=function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",{className:"preloader__container"},r.a.createElement("span",{className:"preloader__round"})))};t(66),t(68);var V=function(e){var a=e.movie,t=e.onLike,n=e.onDislike,l=e.isFavourites,c=void 0!==a._id;return r.a.createElement("li",{className:"card"},r.a.createElement("div",{className:"card__content"},r.a.createElement("div",{className:"card__description"},r.a.createElement("h2",{className:"card__name"},a.nameRU),r.a.createElement("p",{className:"card__time"},function(e){var a=Math.floor(e/60),t=e%60;return"".concat(a>0?a+"\u0447":""," ").concat(t,"\u043c")}(a.duration))),l?r.a.createElement("button",{className:"card__delete","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",type:"button",onClick:function(){n(a._id)}}):r.a.createElement("button",{className:"card__like"+(c?" card__like_active":""),"aria-label":"\u041b\u0430\u0439\u043a",type:"button",onClick:function(){c?n(a._id):t(a)}})),r.a.createElement("a",{href:a.trailerLink,target:"_blank",rel:"noopener noreferrer",className:"card__link"},r.a.createElement("img",{src:a.image,alt:a.nameRU,className:"card__image"})))},J=7;(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=720&&(J=5);var B=function(e){var a=e.cards,t=e.error,n=e.onLike,l=e.onDislike,c=e.query,i=e.isFavourites,s=r.a.useState(J),m=Object(o.a)(s,2),u=m[0],_=m[1],p=i?a:a.slice(0,u);return r.a.createElement("section",{className:"movies"},r.a.createElement("ul",{className:"movies__cards"},t?r.a.createElement("p",{className:"movies__error"},"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"):0===a.length&&c?r.a.createElement("li",{className:"movies__nothing"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):p.map(function(e){return r.a.createElement(V,{key:e.movieId,movie:e,onLike:n,onDislike:l,isFavourites:i})})),!i&&u<a.length&&r.a.createElement("div",{className:"movies__more"},r.a.createElement("button",{className:"movies__button",onClick:function(){_(u+J)},"aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0415\u0449\u0435",type:"button"},"\u0415\u0449\u0435")))},G=new(function(){function e(a){var t=this,n=a.baseUrl,r=a.headers;Object(u.a)(this,e),this.movies=function(){return t._request(t.baseUrl+"/beatfilm-movies",{method:"GET",headers:t.headers})},this.baseUrl=n,this.headers=r}return Object(_.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"_request",value:function(e,a){return fetch(e,a).then(this._checkResponse)}}]),e}())({baseUrl:"https://api.nomoreparties.co",headers:{"Content-Type":"application/json"}}),Q=function(e,a,t){var n=a.toLowerCase();return e.filter(function(e){var a=e.nameRU.toLowerCase().includes(n)||e.nameEN.toLowerCase().includes(n);return t?a&&e.duration<=40:a})},W=function(e){return{movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN,description:e.description,duration:e.duration,country:e.country,director:e.director,year:e.year,image:"https://api.nomoreparties.co"+e.image.url,thumbnail:"https://api.nomoreparties.co"+e.image.formats.thumbnail.url,trailerLink:e.trailerLink}};var H=function(){var e=r.a.useState([]),a=Object(o.a)(e,2),t=a[0],n=a[1],l=r.a.useState([]),c=Object(o.a)(l,2),i=c[0],s=c[1],m=r.a.useState(!1),u=Object(o.a)(m,2),_=u[0],f=u[1],d=r.a.useState(""),E=Object(o.a)(d,2),v=E[0],h=E[1],b=r.a.useState(!1),g=Object(o.a)(b,2),N=g[0],k=g[1],y=r.a.useState(!1),j=Object(o.a)(y,2),O=j[0],C=j[1],w=r.a.useState([]),I=Object(o.a)(w,2),q=I[0],F=I[1];r.a.useEffect(function(){x()},[i]);var P=function(e){return 0===i.length&&p.moviesList().then(function(e){s(e)}).catch(function(e){C(!0),console.log(e)}),e.map(function(e){var a=i.find(function(a){return a.movieId===e.movieId});return e=Object.assign({},e),a&&(e._id=a._id),e})},x=function(){var e=localStorage.getItem("movies");if(e){var a=JSON.parse(e);h(a.query),n(P(a.cardList)),k(a.shortOnly)}},R=function(e,a){f(!0),0!==q.length?(L(q,e,a),f(!1)):function(e,a){G.movies().then(function(t){var n=t.map(function(e){return W(e)});F(n),L(n,e,a),f(!1)}).catch(function(e){C(!0),console.log(e)})}(e,a)},L=function(e,a,t){var r=Q(e,a,t);!function(e,a,t){var n={query:e,cardList:a,shortOnly:t};localStorage.setItem("movies",JSON.stringify(n))}(a,r,t),n(P(r))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{loggedIn:!0}),r.a.createElement("main",null,r.a.createElement(D,{query:v,onQueryChange:h,onShortOnlyChange:function(){R(v,!N),k(!N)},shortOnly:N,onSubmit:function(){return R(v,N)}}),_?r.a.createElement(Z,null):r.a.createElement(B,{cards:t,error:O,onLike:function(e){p.movieAdd(e).then(function(a){var r=t.map(function(t){return t.movieId===e.movieId?a:t});n(r),s([].concat(Object(A.a)(i),[a]))}).catch(function(e){C(!0),console.log(e)})},onDislike:function(e){p.movieRemove(e).then(function(a){var r=t.map(function(a){return a._id===e&&delete a._id,a});n(r);var l=i.filter(function(a){return a._id!==e?a:null});s(l)}).catch(function(e){console.log(e)})},query:v,isFavourites:!1})),r.a.createElement(U,null))};t(70);var $=function(){var e=r.a.useState([]),a=Object(o.a)(e,2),t=a[0],n=a[1],l=r.a.useState([]),c=Object(o.a)(l,2),i=c[0],s=c[1],m=r.a.useState(!1),u=Object(o.a)(m,2),_=u[0],f=u[1],d=r.a.useState(""),E=Object(o.a)(d,2),v=E[0],h=E[1],b=r.a.useState(!1),g=Object(o.a)(b,2),N=g[0],k=g[1],y=r.a.useState(!1),j=Object(o.a)(y,2),O=j[0],C=j[1];r.a.useEffect(function(){w()},[]);var w=function(){f(!0),p.moviesList().then(function(e){n(e),s(e),f(!1)}).catch(function(e){C(!0),console.log(e)})},I=function(e,a){var n=Q(t,e,a);s(n)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{loggedIn:!0}),r.a.createElement("main",null,r.a.createElement(D,{query:v,onQueryChange:h,onShortOnlyChange:function(){I(v,!N),k(!N)},shortOnly:N,onSubmit:function(){return I(v,N)}}),_?r.a.createElement(Z,null):r.a.createElement(B,{cards:i,error:O,query:v,onDislike:function(e){p.movieRemove(e).then(function(a){var r=t.filter(function(a){return a._id!==e?a:null});n(r);var l=i.filter(function(a){return a._id!==e?a:null});s(l)}).catch(function(e){C(!0),console.log(e)})},isFavourites:!0})),r.a.createElement(U,null))},K=t(5);function X(){var e=r.a.useState({}),a=Object(o.a)(e,2),t=a[0],l=a[1],c=r.a.useState({}),i=Object(o.a)(c,2),s=i[0],u=i[1],_=r.a.useState(!1),p=Object(o.a)(_,2),f=p[0],d=p[1],E=Object(n.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(e),u(a),d(t)},[l,u,d]);return{values:t,handleChange:function(e){var a=e.target,n=a.name,r=a.value;l(Object(m.a)({},t,Object(K.a)({},n,r))),u(Object(m.a)({},s,Object(K.a)({},n,a.validationMessage))),d(a.closest("form").checkValidity())},errors:s,isValid:f,init:function(e){l(e)},resetForm:E}}t(72);var Y=function(e){var a=e.onRegister,t=r.a.useRef(),n=r.a.useRef(),l=r.a.useRef(),c=X(),o=c.handleChange,i=c.errors,s=c.isValid;return r.a.createElement("section",{className:"popup"},r.a.createElement("div",{className:"popup__content"},r.a.createElement(E.b,{to:"/","aria-label":"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"},r.a.createElement("img",{src:y.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"popup__logo"})),r.a.createElement("h2",{className:"popup__title"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"),r.a.createElement("form",{id:"login-form",className:"popup__form",name:"login-form",onSubmit:function(e){e.preventDefault(),a(t.current.value,n.current.value,l.current.value)},noValidate:!0},r.a.createElement("div",{className:"popup__info"},r.a.createElement("div",{className:"popup__list"},r.a.createElement("label",{className:"popup__label"},"\u0418\u043c\u044f"),r.a.createElement("input",{id:"name",ref:t,className:"popup__input",name:"name",type:"text",onChange:o,required:!0,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\\s\\-]*$"}),i.name&&r.a.createElement("span",{className:"popup__error"},i.name)),r.a.createElement("div",{className:"popup__list"},r.a.createElement("label",{className:"popup__label"},"E-mail"),r.a.createElement("input",{id:"email",ref:n,className:"popup__input",name:"login",type:"email",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",onChange:o,required:!0}),i.login&&r.a.createElement("span",{className:"popup__error"},i.login)),r.a.createElement("div",{className:"popup__list"},r.a.createElement("label",{className:"popup__label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{id:"password",ref:l,className:"popup__input popup__input_password",name:"password",type:"password",onChange:o,required:!0,minLength:"5",maxLength:"30"}),i.password&&r.a.createElement("span",{className:"popup__error"},i.password))),r.a.createElement("div",{className:"popup__button"},r.a.createElement("button",{className:"popup__save"+(s?" popup__save_active":""),"aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0445\u043e\u0434\u0430",type:"submit",disabled:!s},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("div",{className:"popup__span"},r.a.createElement("span",{className:"popup__text"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(E.b,{to:"/signin","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0445\u043e\u0434\u0430"},r.a.createElement("span",{className:"popup__enter"},"\u0412\u043e\u0439\u0442\u0438")))))))};t(74);var ee=function(e){var a=e.onLogin,t=r.a.useRef(),n=r.a.useRef(),l=X(),c=l.handleChange,o=l.errors,i=l.isValid;return r.a.createElement("section",{className:"popup"},r.a.createElement("div",{className:"popup__content"},r.a.createElement(E.b,{to:"/","aria-label":"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"},r.a.createElement("img",{src:y.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"popup__logo"})),r.a.createElement("h2",{className:"popup__title"},"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"),r.a.createElement("form",{id:"login-form",className:"popup__form",name:"login-form",onSubmit:function(e){e.preventDefault(),a(t.current.value,n.current.value)},noValidate:!0},r.a.createElement("div",{className:"popup__info"},r.a.createElement("div",{className:"popup__list"},r.a.createElement("label",{className:"popup__label"},"E-mail"),r.a.createElement("input",{id:"email",ref:t,className:"popup__input",name:"login",type:"email",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",onChange:c,required:!0}),o.login&&r.a.createElement("span",{className:"popup__error"},o.login)),r.a.createElement("div",{className:"popup__list"},r.a.createElement("label",{className:"popup__label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{id:"password",ref:n,className:"popup__input",name:"password",type:"password",onChange:c,required:!0}),o.password&&r.a.createElement("span",{className:"popup__error"},o.password))),r.a.createElement("div",{className:"popup__button"},r.a.createElement("button",{className:"popup__save"+(i?" popup__save_active":""),"aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0445\u043e\u0434\u0430",type:"submit",disabled:!i},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("div",{className:"popup__span"},r.a.createElement("span",{className:"popup__text"},"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(E.b,{to:"/signup","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"},r.a.createElement("span",{className:"popup__enter"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))))};t(76);var ae=function(e){var a=e.onProfileUpdate,t=e.onSignOut,n=r.a.useContext(s),l=r.a.useState(!1),c=Object(o.a)(l,2),i=c[0],m=c[1],u=X(),_=u.handleChange,p=u.errors,f=u.values,d=u.init,v=u.isValid;return r.a.useEffect(function(){d({name:n.name,email:n.email})},[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{loggedIn:!0}),r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__content"},r.a.createElement("h2",{className:"profile__title"},"\u041f\u0440\u0438\u0432\u0435\u0442, ",n.name,"!"),r.a.createElement("form",{id:"login-form",className:"profile__form",name:"login-form",onSubmit:function(e){e.preventDefault(),a(f.name,f.email),m(!0)},noValidate:!0},r.a.createElement("div",{className:"profile__data"},r.a.createElement("div",{className:"profile__info"},r.a.createElement("label",{className:"profile__label"},"\u0418\u043c\u044f"),r.a.createElement("input",{id:"name",value:f.name,className:"profile__input",name:"name",type:"text",onChange:_,required:!0,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\\s\\-]*$"})),r.a.createElement("hr",{className:"profile__line"}),r.a.createElement("div",{className:"profile__info"},r.a.createElement("label",{className:"profile__label"},"E-mail"),r.a.createElement("input",{id:"email",value:f.email,className:"profile__input",name:"email",type:"email",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",onChange:_,required:!0}))),!v&&r.a.createElement("div",{className:"profile_error"},Object.values(p).map(function(e){return r.a.createElement("p",{className:"profile_text"},e)})),r.a.createElement("div",{className:"profile__button"},i&&r.a.createElement("p",{className:"profile__success"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"),r.a.createElement("button",{className:"profile__save"+(v?" profile__save_active":""),"aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",type:"submit",disabled:!v||f.name===n.name&&f.email===n.email},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(E.b,{to:"/",className:"profile__exit","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",onClick:t},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"))))))};t(78);var te=function(){return r.a.createElement("section",{className:"error"},r.a.createElement("div",{className:"error__content"},r.a.createElement("div",{className:"error__info"},r.a.createElement("p",{className:"error__title"},"404"),r.a.createElement("p",{className:"error__text"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")),r.a.createElement("div",{className:"error__link"},r.a.createElement(E.b,{to:-1,className:"error__back","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043d\u0430\u0437\u0430\u0434",type:"submit"},"\u041d\u0430\u0437\u0430\u0434"))))};var ne=function(){var e=r.a.useState({}),a=Object(o.a)(e,2),t=a[0],n=a[1],l=r.a.useState(!1),c=Object(o.a)(l,2),m=c[0],u=c[1],_=r.a.useState(!1),f=Object(o.a)(_,2),E=f[0],v=f[1],h=Object(i.o)();return r.a.useEffect(function(){var e=localStorage.getItem("token");if(!e)return u(!1),void v(!0);!function(e){p.checkToken(e).then(function(e){u(!0),v(!0),n(e)}).catch(function(e){console.log(e),u(!1),v(!0)})}(e)},[]),r.a.createElement(s.Provider,{value:t},r.a.createElement("div",{className:"page"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(T,{loggedIn:m})}),r.a.createElement(i.b,{path:"/movies",element:r.a.createElement(d,{element:H,loggedIn:m||!E})}),r.a.createElement(i.b,{path:"/saved-movies",element:r.a.createElement(d,{element:$,loggedIn:m||!E})}),r.a.createElement(i.b,{path:"/profile",element:r.a.createElement(d,{element:ae,loggedIn:m||!E,onProfileUpdate:function(e,a){var t=localStorage.getItem("token");p.profileUpdate(e,a,t).then(function(e){n(e)}).catch(function(e){console.log(e)})},onSignOut:function(){localStorage.removeItem("token"),localStorage.removeItem("movies"),u(!1),v(!1),h("/")}})}),r.a.createElement(i.b,{path:"/signup",element:r.a.createElement(d,{element:Y,onRegister:function(e,a,t){p.register(e,a,t).then(function(e){localStorage.setItem("token",e.token),u(!0),n(e.data),v(!0),h("/movies")}).catch(function(e){console.log(e)})},loggedIn:!m})}),r.a.createElement(i.b,{path:"/signin",element:r.a.createElement(d,{element:ee,onLogin:function(e,a){p.login(e,a).then(function(e){localStorage.setItem("token",e.token),u(!0),n(e.data),v(!0),h("/movies")}).catch(function(e){console.log(e)})},loggedIn:!m})}),r.a.createElement(i.b,{path:"*",element:r.a.createElement(te,null)}))))},re=function(e){e&&e instanceof Function&&t.e(1).then(t.bind(null,81)).then(function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,l=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,null,r.a.createElement(ne,null)))),re()}],[[27,3,2]]]);
//# sourceMappingURL=main.910efaf0.chunk.js.map